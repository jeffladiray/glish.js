<html>
  <head>
    
  </head>
  <body>
    <script type="text/javascript">
      window.fetch('/map').then((response) => {
        return response.json();
      }).then((data) => {
        const map = document.createElement('div');
        console.warn(data);
        
        data.biomeLayer.matrix.forEach((row, i) => {
          const r = document.createElement('div');
          map.appendChild(r);
          row.forEach((cell, j) => {
            const c = document.createElement('img');
            if (cell.biome.type === 'OCEAN_BIOME') {
              c.src = '/w.png';
            } else if (cell.biome.type === 'BEACH_BIOME') {
              c.src = '/b.png';
            } else if (cell.biome.type === 'GRASS_BIOME') {
              c.src = '/g.png';
            } else if (cell.biome.type === 'MOUNTAIN_BIOME') {
              c.src = '/m.png';
            }
            r.appendChild(c);
          });
        });
        document.body.appendChild(map);
      }).catch((err) => {
        console.log(err);
      });
    </script>
  </body>
</html>